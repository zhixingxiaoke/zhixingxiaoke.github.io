---
title: RFC9293 TCP 协议
weight: 3
draft: true
# bookFlatSection: false
# bookToc: true
# bookHidden: false
# bookCollapseSection: false
# bookComments: false
# bookSearchExclude: false
---

# RFC9293 TCP 协议中文翻译

这是 RFC 上最新（截止到 2023 年 3 月）完整描述了 TCP 协议标准的文档，它整合了 RFC793 提出的 TCP 规范以及后来提出的多项优化 ，如果对 RFC793 感兴趣可以参考[RFC793 TCP 协议中文翻译](../translations/rfc793)。

原文：[Transmission Control Protocol (TCP)](https://datatracker.ietf.org/doc/rfc9293/)

## 封面

Internet Engineering Task Force (IETF)  
STD: 7  
Request for Comments: 9293  
Obsoletes: 793, 879, 2873, 6093, 6429, 6528, 6691  
Updates: 1011, 1122, 5961  
Category: Standards Track  
ISSN: 2070-1721

{{< right >}}
W. Eddy, Ed.  
MTI Systems  
August 2022
{{< /right >}}

{{< center >}}
Transmission Control Protocol (TCP)  
传输控制协议（TCP）
{{< /center >}}

## 摘要

**Abstract**

This document specifies the Transmission Control Protocol (TCP).  
本文档规定了传输控制协议（TCP）。

TCP is an important transport-layer protocol in the Internet protocol stack, and it has continuously evolved over decades of use and growth of the Internet.  
TCP 是 Internet 协议栈中重要的传输层协议，在互联网数十年的使用和发展过程中不断改进。

Over this time, a number of changes have been made to TCP as it was specified in RFC 793, though these have only been documented in a piecemeal fashion.  
在这段时间里，已经对 RFC 793 中规定的 TCP 进行了一些修改，尽管这些修改只是以零散的方式被记录下来。

This document collects and brings those changes together with the protocol specification from RFC 793.  
本文件收集了这些变化，并将其与 RFC 793 的协议规范结合在一起。

This document obsoletes RFC 793, as well as RFCs 879, 2873, 6093, 6429, 6528, and 6691 that updated parts of RFC 793.  
本文档废弃了 RFC 793，以及更新了 RFC 793 部分内容的 RFC 879、2873、6093、6429、6528 和 6691。

It updates RFCs 1011 and 1122, and it should be considered as a replacement for the portions of those documents dealing with TCP requirements.  
它更新了 RFC 1011 和 1122，它可以被视为那些文档中涉及 TCP 要求的部分的替代品。

It also updates RFC 5961 by adding a small clarification in reset handling while in the SYN-RECEIVED state.  
它还更新了 RFC 5961，在 SYN-RECEIVED 状态下在重置处理中添加了一个小的说明。

The TCP header control bits from RFC 793 have also been updated based on RFC 3168.  
RFC 793 中的 TCP 头控制位也根据 RFC 3168 进行了更新。

**Status of This Memo**

This is an Internet Standards Track document.  
这是一份互联网标准追踪文件。

This document is a product of the Internet Engineering Task Force (IETF).  
本文档是 Internet 工程任务组 (IETF) 的产品。

It represents the consensus of the IETF community.  
它代表了 IETF 社区的共识。

It has received public review and has been approved for publication by the Internet Engineering Steering Group (IESG).  
它已经接受了公众审阅，并已被互联网工程指导小组 (IESG) 批准发布。

Further information on Internet Standards is available in Section 2 of RFC 7841.  
有关 Internet 标准的更多信息，请参阅 RFC 7841 的第 2 节。

Information about the current status of this document, any errata, and how to provide feedback on it may be obtained at https://www.rfc-editor.org/info/rfc9293.  
有关本文档的当前状态、任何勘误表以及如何提供反馈的信息，请访问 [🔗](https://www.rfc-editor.org/info/rfc9293)。

## 版权声明

**Copyright Notice**

Copyright (c) 2022 IETF Trust and the persons identified as the document authors.  
Copyright (c) 2022 IETF Trust 和被认定为本文档作者的人员。

All rights reserved.  
保留所有权利。

This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (https://trustee.ietf.org/license-info) in effect on the date of publication of this document.  
本文档受 BCP 78 和 IETF 信托与 IETF 文档相关的法律规定 [🔗](https://trustee.ietf.org/license-info) 的约束，这些条款在本文档发布之日生效。

Please review these documents carefully, as they describe your rights and restrictions with respect to this document.  
请仔细阅读这些文件，因为它们描述了您对本文件的权利和限制。

Code Components extracted from this document must include Revised BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Revised BSD License.  
从本文件中提取的代码组件必须包括信托法律条款第 4.e 节中描述的修订版 BSD 许可文本，并且不提供修订版 BSD 许可中描述的保证。

This document may contain material from IETF Documents or IETF Contributions published or made publicly available before November 10, 2008.  
本文档可能包含 2008 年 11 月 10 日之前发布或公开提供的 IETF 文档或 IETF 文稿中的材料。

The person(s) controlling the copyright in some of this material may not have granted the IETF Trust the right to allow modifications of such material outside the IETF Standards Process.  
控制本材料某些版权的人可能未授予 IETF 信托允许在 IETF 标准流程之外修改此类材料的权利。

Without obtaining an adequate license from the person(s) controlling the copyright in such materials, this document may not be modified outside the IETF Standards Process, and derivative works of it may not be created outside the IETF Standards Process, except to format it for publication as an RFC or to translate it into languages other than English.  
如果没有从控制此类材料的版权的人那里获得足够的许可，则不得在 IETF 标准流程之外修改本文档，并且不得在 IETF 标准流程之外创建其衍生作品，除非将其格式化为 RFC 出版或将其翻译成英语以外的其他语言。

## 目录

{{< center >}}
Table of Contents
{{< /center >}}

1.Purpose and Scope 目的和范围

2.Introduction 介绍  
&emsp;2.1. Requirements Language 需求语言  
&emsp;2.2. Key TCP Concepts 关键的 TCP 概念

3.Functional Specification 功能规范  
&emsp;3.1. Header Format 头部格式  
&emsp;3.2. Specific Option Definitions 具体选项定义  
&emsp;&emsp;3.2.1. Other Common Options 其他常用选项  
&emsp;&emsp;3.2.2. Experimental TCP Options 实验性 TCP 选项  
&emsp;3.3. TCP Terminology Overview TCP 术语概述  
&emsp;&emsp;3.3.1. Key Connection State Variables 关键连接状态变量  
&emsp;&emsp;3.3.2. State Machine Overview 状态机概述  
&emsp;3.4. Sequence Numbers 序列号  
&emsp;&emsp;3.4.1. Initial Sequence Number Selection 初始序列号选择  
&emsp;&emsp;3.4.2. Knowing When to Keep Quiet 知道什么时候该保持静默  
&emsp;&emsp;3.4.3. The TCP Quiet Time Concept TCP 静默时间概念  
&emsp;3.5. Establishing a Connection 建立连接  
&emsp;&emsp;3.5.1. Half-Open Connections and Other Anomalies 半开连接和其他异常  
&emsp;&emsp;3.5.2. Reset Generation 重置生成  
&emsp;&emsp;3.5.3. Reset Processing 重置处理  
&emsp;3.6. Closing a Connection 关闭连接  
&emsp;&emsp;3.6.1. Half-Closed Connections 半闭连接  
&emsp;3.7. Segmentation 分段  
&emsp;&emsp;3.7.1. Maximum Segment Size Option 最大段长度选项  
&emsp;&emsp;3.7.2. Path MTU Discovery 路径 MTU 发现  
&emsp;&emsp;3.7.3. Interfaces with Variable MTU Values 可变 MTU 值的接口  
&emsp;&emsp;3.7.4. Nagle Algorithm Nagle 算法  
&emsp;&emsp;3.7.5. IPv6 Jumbograms  
&emsp;3.8. Data Communication 数据通信  
&emsp;&emsp;3.8.1. Retransmission Timeout 重传超时  
&emsp;&emsp;3.8.2. TCP Congestion Control TCP 拥塞控制  
&emsp;&emsp;3.8.3. TCP Connection Failures TCP 连接故障  
&emsp;&emsp;3.8.4. TCP Keep-Alives  
&emsp;&emsp;3.8.5. The Communication of Urgent Information 紧急信息的通信  
&emsp;&emsp;3.8.6. Managing the Window 管理窗口  
&emsp;3.9. Interfaces 接口  
&emsp;&emsp;3.9.1. User/TCP Interface 用户/TCP 接口  
&emsp;&emsp;3.9.2. TCP/Lower-Level Interface TCP/下层协议接口  
&emsp;3.10. Event Processing 事件处理  
&emsp;&emsp;3.10.1. OPEN Call OPEN 调用  
&emsp;&emsp;3.10.2. SEND Call SEND 调用  
&emsp;&emsp;3.10.3. RECEIVE Call RECEIVE 调用  
&emsp;&emsp;3.10.4. CLOSE Call CLOSE 调用  
&emsp;&emsp;3.10.5. ABORT Call ABORT 调用  
&emsp;&emsp;3.10.6. STATUS Call STATUS 调用  
&emsp;&emsp;3.10.7. SEGMENT ARRIVES 收到段  
&emsp;&emsp;3.10.8. Timeouts 超时

4.Glossary 词汇表

5.Changes from RFC 793 与 RFC 793 相比的变化

6.IANA Considerations IANA 的注意事项

7.Security and Privacy Considerations 安全和隐私注意事项

8.References 参考文献  
&emsp;8.1. Normative References 规范性参考文献  
&emsp;8.2. Informative References 非规范性参考文献

Appendix A. Other Implementation Notes 其他实现说明  
&emsp;A.1. IP Security Compartment and Precedence IP 安全部分和优先级  
&emsp;&emsp;A.1.1. Precedence 优先级  
&emsp;&emsp;A.1.2. MLS Systems MLS 系统  
&emsp;A.2. Sequence Number Validation 序列号验证  
&emsp;A.3. Nagle Modification Nagle 修改  
&emsp;A.4. Low Watermark Settings 低水印设置

Appendix B. TCP Requirement Summary TCP 要求概述

Acknowledgments 致谢

Author's Address 作者的地址

## 目的和范围

**1.Purpose and Scope**

In 1981, RFC 793 [16] was released, documenting the Transmission Control Protocol (TCP) and replacing earlier published specifications for TCP.  
1981 年，RFC 793 [16] 发布，记录了传输控制协议 (TCP) 并取代了早期发布的 TCP 规范。

Since then, TCP has been widely implemented, and it has been used as a transport protocol for numerous applications on the Internet.  
从那时起，TCP 得到了广泛的应用，并被用作 Internet 上众多应用程序的传输协议。

For several decades, RFC 793 plus a number of other documents have combined to serve as the core specification for TCP [49].  
几十年来，RFC 793 加上许多其他文档已合并为 TCP 的核心规范[49]。

Over time, a number of errata have been filed against RFC 793.  
随着时间的流逝，已经针对 RFC 793 提出了许多勘误表。

There have also been deficiencies found and resolved in security, performance, and many other aspects.  
在安全、性能和其他许多方面也发现和解决了一些缺陷。

The number of enhancements has grown over time across many separate documents.  
随着时间的推移，改进的数量在许多独立的文件中不断增加。

These were never accumulated together into a comprehensive update to the base specification.  
这些改进还没有被整合到一起，整体更新基本规范。

The purpose of this document is to bring together all of the IETF Standards Track changes and other clarifications that have been made to the base TCP functional specification (RFC 793) and to unify them into an updated version of the specification.  
本文档的目的是将所有 IETF 标准轨道的修改和其他对基础 TCP 功能规范（RFC 793）的说明汇集在一起，并将它们统一到规范的更新版本中。

Some companion documents are referenced for important algorithms that are used by TCP (e.g., for congestion control) but have not been completely included in this document.  
但是一些用于 TCP 使用的重要算法（例如，用于拥塞控制）的相关文档，还没有完全包括在本文档中。

This is a conscious choice, as this base specification can be used with multiple additional algorithms that are developed and incorporated separately.  
这是一个有意识的选择，因为该基本规范可以与多种额外的算法一起使用，这些算法是单独开发和合并的。

This document focuses on the common basis that all TCP implementations must support in order to interoperate.  
本文档重点关注所有 TCP 实现必须支持的共同基础，以实现互操作。

Since some additional TCP features have become quite complicated themselves (e.g., advanced loss recovery and congestion control), future companion documents may attempt to similarly bring these together.  
因为一些额外的 TCP 功能本身已经变得相当复杂（例如，高级损失恢复和拥塞控制），未来的配套文档可能会试图类似地将这些功能集中起来。

In addition to the protocol specification that describes the TCP segment format, generation, and processing rules that are to be implemented in code, RFC 793 and other updates also contain informative and descriptive text for readers to understand aspects of the protocol design and operation.  
除了描述要在代码中实现的 TCP 段格式、生成和处理规则的协议规范外，RFC 793 和其他更新还包含信息和描述性内容，以便读者了解协议设计和运行的各个方面。

This document does not attempt to alter or update this informative text and is focused only on updating the normative protocol specification.  
本文件并不试图改变或更新这些信息性的内容，而只是专注于更新标准化的协议规范。

This document preserves references to the documentation containing the important explanations and rationale, where appropriate.  
本文档保留了对包含重要解释和基本原理的文档的引用。

This document is intended to be useful both in checking existing TCP implementations for conformance purposes, as well as in writing new implementations.  
该文档旨在帮助检查现有的 TCP 实现以及编写新实现。

## 介绍

**2.Introduction**

RFC 793 contains a discussion of the TCP design goals and provides examples of its operation, including examples of connection establishment, connection termination, and packet retransmission to repair losses.  
RFC 793 包含了对 TCP 设计目标的讨论，并提供了其操作的示例，包括建立连接、关闭连接以及弥补丢失的数据包重传。

This document describes the basic functionality expected in modern TCP implementations and replaces the protocol specification in RFC 793.  
本文档描述了现代 TCP 实现中预期的基本功能，并替换了 RFC 793 中的协议规范。

It does not replicate or attempt to update the introduction and philosophy content in Sections 1 and 2 of RFC 793.  
它不会复制或尝试更新 RFC 793 第 1 和 2 节中的简介和理念内容。

Other documents are referenced to provide explanations of the theory of operation, rationale, and detailed discussion of design decisions.  
还参考了其他文件，以提供对操作理论、原理的解释，以及对设计决策的详细讨论。

This document only focuses on the normative behavior of the protocol.  
本文档仅关注协议的标准化行为。

The "TCP Roadmap" [49] provides a more extensive guide to the RFCs that define TCP and describe various important algorithms.

The TCP Roadmap contains sections on strongly encouraged enhancements that improve performance and other aspects of TCP beyond the basic operation specified in this document.

As one example, implementing congestion control (e.g., [8]) is a TCP requirement, but it is a complex topic on its own and not described in detail in this document, as there are many options and possibilities that do not impact basic interoperability.

Similarly, most TCP implementations today include the high-performance extensions in [47], but these are not strictly required or discussed in this document.

Multipath considerations for TCP are also specified separately in [59].

A list of changes from RFC 793 is contained in Section 5.

2.1. Requirements Language

The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in BCP 14 [3] [12] when, and only when, they appear in all capitals, as shown here.

Each use of RFC 2119 keywords in the document is individually labeled and referenced in Appendix B, which summarizes implementation requirements.

Sentences using "MUST" are labeled as "MUST-X" with X being a numeric identifier enabling the requirement to be located easily when referenced from Appendix B.

Similarly, sentences using "SHOULD" are labeled with "SHLD-X", "MAY" with "MAY-X", and "RECOMMENDED" with "REC-X".

For the purposes of this labeling, "SHOULD NOT" and "MUST NOT" are labeled the same as "SHOULD" and "MUST" instances.

2.2. Key TCP Concepts

TCP provides a reliable, in-order, byte-stream service to applications.

The application byte-stream is conveyed over the network via TCP segments, with each TCP segment sent as an Internet Protocol (IP) datagram.

TCP reliability consists of detecting packet losses (via sequence numbers) and errors (via per-segment checksums), as well as correction via retransmission.

TCP supports unicast delivery of data.

There are anycast applications that can successfully use TCP without modifications, though there is some risk of instability due to changes of lower-layer forwarding behavior [46].

TCP is connection oriented, though it does not inherently include a liveness detection capability.

Data flow is supported bidirectionally over TCP connections, though applications are free to send data only unidirectionally, if they so choose.

TCP uses port numbers to identify application services and to multiplex distinct flows between hosts.

A more detailed description of TCP features compared to other transport protocols can be found in Section 3.1 of [52].

Further description of the motivations for developing TCP and its role in the Internet protocol stack can be found in Section 2 of [16] and earlier versions of the TCP specification.
